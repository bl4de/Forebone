/*! Forebone build 01-07-2014 23:07 */
(function(){"use strict";var a=this,b=a.Forebone={};b.extend=a.extend=function(a){var b;for(b in a)this[b]=a[b];return this},b.Notification={show:function(a,b){Notification.requestPermission(function(c){if("granted"===c){var d=b||{dir:"auto",lang:"en",tag:"testTag",body:a};new Notification(a,d)}})}},b.Dom={elem:null,HTMLElement:null,HTMLElementArray:[],__findHTMLElement:function(a){this.HTMLElement=this.find(a)},find:function(a){return this.elem=document.querySelector(a),!1==("object"==typeof this.elem)?!1:this.elem},findAll:function(a){return this.HTMLElementArray=document.querySelectorAll(a),this.HTMLElementArray.length<1?!1:this.HTMLElementArray},findByClass:function(a){return this.HTMLElementArray=document.getElementsByClassName(a),this.HTMLElementArray.length<1?!1:this.HTMLElementArray},forEach:function(a,b){if(this.findAll(a),this.HTMLElementArray.length>0){var c;for(c in this.HTMLElementArray){var d=this.HTMLElementArray[c].nodeType;(1===d||9===d||11===d)&&b(this.HTMLElementArray[c])}}},content:function(a,b){!1==("object"==typeof a)?(this.__findHTMLElement(a),this.HTMLElement.innerText=b):a.innerText=b},set:function(a,b,c){return!1==("object"==typeof a)&&(a=this.find(a)),a.setAttribute(b,c),a},get:function(a,b){return!1==("object"==typeof a)&&(a=this.find(a)),a.getAttribute(b)},containClass:function(a,b){return this.__findHTMLElement(a),this.HTMLElement.classList.contains(b)},addClass:function(a,b){this.__findHTMLElement(a),this.HTMLElement&&this.HTMLElement.classList.add(b)},removeClass:function(a,b){this.__findHTMLElement(a),this.HTMLElement&&this.HTMLElement.classList.remove(b)},toggleClass:function(a,b){this.__findHTMLElement(a),this.HTMLElement&&this.HTMLElement.classList.toggle(b)},on:function(a,b,c){this.__findHTMLElement(a),this.HTMLElement&&(this.HTMLElementArray.addEventListener?this.HTMLElement.addEventListener(b,c,!1):this.HTMLElement.attachEvent?this.HTMLElement.attachEvent("on"+b,c):this.HTMLElement["on"+b]=c)},off:function(a,b){this.__findHTMLElement(a),this.HTMLElement&&(this.HTMLElementArray.removeEventListener?this.HTMLElement.removeEventListener(eventName,b):this.HTMLElement.detachEvent?this.HTMLElement.detachEvent("on"+eventName,b):this.HTMLElement["on"+eventName]=null)},include:function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.body.appendChild(b)}},b.Window={getPosX:function(){return"number"==typeof a.screenX?a.screenX:a.screenLeft},getPosY:function(){return"number"==typeof a.screenY?a.screenY:a.screenTop}},b.Util={equal:function(a){if(this===a)return!0;var b;for(b in this)if(this[b]!==a[b])return!1;return!0},clone:function(){var a,b={};for(a in this)b[a]=this[a];return b},random:function(a){return a||(a=255),Math.floor(Math.random()*a)}},b.Ajax={url:null,xhr:null,async:!0,method:"GET",makeRequest:function(a,b,c){this.xhr.onprogress=onprogress,this.xhr.onerror=c,this.xhr.open(this.method,this.url,this.async),"POST"===this.method&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var d=this;try{this.xhr.onreadystatechange=function(){4===d.xhr.readyState&&200===d.xhr.status&&b("text/xml"===d.xhr.getResponseHeader("Content-type")&&d.xhr.responseXML?d.xhr.responseXML:d.xhr.responseText)},this.xhr.send(a)}catch(e){console.log("makeReqest() thrown new excpetion: "+e.message+" "+e.number)}},initialize:function(a,b){window.XMLHttpRequest?this.xhr=new XMLHttpRequest:window.ActiveXObject&&(this.xhr=new ActiveXObject("Microsoft.XMLHTTP")),this.url=a,b||(this.async=!0)},post:function(a,b,c){var d,e="";if(a)for(d in a)e+=d+"="+encodeURIComponent(a[d])+"&";this.method="POST",this.makeRequest(e,b,c)},get:function(a,b,c,d){this.method="GET",this.makeRequest(a,b,c,d)}},b.Dater={obj:null,dateStr:null,dayOfWeeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],createDate:function(a){var b=a||Date.now();this.obj=new Date(b),this.dateStr=this.obj.toString()},formatDate:function(){this.dateStr=this.obj.getDate()+" "+this.obj.getMonth()+" "+this.obj.getFullYear()},formatTime:function(){},showDate:function(){return this.dateStr}},b.User={isOnline:function(){var a=navigator.onLine?!0:!1;return a}},b.Event={attach:function(a,b){this.events=this.events||{},"function"==typeof b&&(this.events[a]=b)},fire:function(a,b){return"string"==typeof b?void this.events[a].call(this,b):void this.events[a].apply(this,b||[])}},b.Media={getMedia:function(a){{var b=a.video,c=a.audio,d=a.videoDomElement;a.canvasDomElement}navigator._getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator._getMedia({video:b,audio:c},function(a){if(navigator.mozGetUserMedia)d.mozSrcObject=a;else{var b=window.URL||window.webkitURL;d.src=b.createObjectURL(a)}d.play()},function(){console.log("Forebone.Media error")})}},b.Canvas={context:null,image:null,width:null,height:null,initialize:function(b){var c=a.document.getElementById(b);!this.context&&c.getContext&&(this.context=c.getContext("2d"),this.image=this.context.createImageData(c.width,c.height),this.height=c.height,this.width=c.width)},color:function(a,b,c,d){this.context.fillStyle=a>=0&&256>a&&b>=0&&256>b&&c>=0&&256>c?d?"rgba("+a+","+b+","+c+","+d+")":"rgb("+a+","+b+","+c+")":"rgb(10,10,10)"},move:function(a,b){a>0&&b>0?this.context.moveTo(a,b):this.context.moveTo(0,0)},line:function(a,b){a>0&&b>0?this.context.lineTo(a,b):this.context.lineTo(0,0),this.context.fill()},rect:function(a,b,c,d,e,f,g,h){this.color(e,f,g,h),this.context.fillRect(a,b,c,d)},stroke:function(a,b,c,d){this.context.strokeRect(a,b,c,d)},clear:function(a,b,c,d){this.context.clearRect(a,b,c,d)},path:function(a){if(a.length>1){this.context.beginPath(),this.context.moveTo(a[0][0],a[0][1]);var b;for(b=1;b<a.length;b++)this.context.lineTo(a[b][0],a[b][1])}this.context.fill()},circle:function(a,b,c,d,e,f,g){var h=Math.PI/180*d,i=Math.PI/180*e;this.context.arc(a,b,c,h,i,f),1===g?this.context.fill():this.context.stroke()},pixel:function(a,b,c,d,e,f){var g=4*(this.width*b+a);this.image.data[g+0]=c?c:10,this.image.data[g+1]=d?d:10,this.image.data[g+2]=e?e:10,this.image.data[g+3]=f?f:255},render:function(){this.context.putImageData(this.image,0,0)}}}).call(this);