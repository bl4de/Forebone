/*! Forebone build 10-06-2013 16:06 */
(function(){"use strict";var t=this,e=t.Forebone={};e.extend=t.extend=function(t){var e;for(e in t)this[e]=t[e];return this},e.Dom={elem:null,HTMLElement:null,HTMLElementArray:[],__findElem:function(t){this.HTMLElement=this.find(t)},find:function(t){return this.elem=document.querySelector(t),!1==("object"==typeof this.elem)?!1:this.elem},findAll:function(t){return this.HTMLElementArray=document.querySelectorAll(t),1>this.HTMLElementArray.length?!1:this.HTMLElementArray},forEach:function(t,e){if(this.findAll(t),this.HTMLElementArray.length>0){var n=0;for(n in this.HTMLElementArray){var i=this.HTMLElementArray[n].nodeType;(1==i||9==i||11==i)&&e(this.HTMLElementArray[n])}}},set:function(t,e,n){return!1==("object"==typeof t)&&(t=this.find(t)),t.setAttribute(e,n),t},get:function(t,e){return!1==("object"==typeof t)&&(t=this.find(t)),t.getAttribute(e)},addClass:function(t,e){this.__findElem(t),this.HTMLElement&&this.HTMLElement.classList.add(e)},removeClass:function(t,e){this.__findElem(t),this.HTMLElement&&this.HTMLElement.classList.remove(e)},toggleClass:function(t,e){this.__findElem(t),this.HTMLElement&&this.HTMLElement.classList.toggle(e)},on:function(t,e,n){this.__findElem(t),this.HTMLElement&&this.HTMLElement.addEventListener(e,n)},include:function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.body.appendChild(e)}},e.Window={getPosX:function(){return"number"==typeof t.screenX?t.screenX:t.screenLeft},getPosY:function(){return"number"==typeof t.screenY?t.screenY:t.screenTop}},e.Util={equal:function(t){if(this===t)return!0;var e;for(e in this)if(this[e]!==t[e])return!1;return!0},clone:function(){var t,e={};for(t in this)e[t]=this[t];return e},random:function(t){return t||(t=255),Math.floor(Math.random()*t)}},e.Ajax={url:null,xhr:null,async:!0,method:"GET",makeRequest:function(t,e,n){this.xhr.onprogress=onprogress,this.xhr.onerror=n,this.xhr.open(this.method,this.url,this.async),"POST"===this.method&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var i=this;try{this.xhr.onreadystatechange=function(){4===i.xhr.readyState&&200===i.xhr.status&&("text/xml"===i.xhr.getResponseHeader("Content-type")&&i.xhr.responseXML?e(i.xhr.responseXML):e(i.xhr.responseText))},this.xhr.send(t)}catch(o){console.log("makeReqest() thrown new excpetion: "+o.message+" "+o.number)}},initialize:function(t,e){window.XMLHttpRequest?this.xhr=new XMLHttpRequest:window.ActiveXObject&&(this.xhr=new ActiveXObject("Microsoft.XMLHTTP")),this.url=t,e||(this.async=!0)},post:function(t,e,n){var i,o="";if(t)for(i in t)o+=i+"="+encodeURIComponent(t[i])+"&";this.method="POST",this.makeRequest(o,e,n)},get:function(t,e,n,i){this.method="GET",this.makeRequest(t,e,n,i)}},e.Dater={obj:null,dateStr:null,dayOfWeeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],createDate:function(t){var e=t||Date.now();this.obj=new Date(e),this.dateStr=""+this.obj},formatDate:function(){this.dateStr=this.obj.getDate()+" "+this.obj.getMonth()+" "+this.obj.getFullYear()},formatTime:function(){},showDate:function(){return this.dateStr}},e.User={isOnline:function(){var t=navigator.onLine?!0:!1;return t}},e.Event={attach:function(t,e){this.events=this.events||{},"function"==typeof e&&(this.events[t]=e)},fire:function(t,e){return"string"==typeof e?(this.events[t].call(this,e),void 0):(this.events[t].apply(this,e||[]),void 0)}},e.Media={getMedia:function(t){var e=t.video,n=t.audio,i=t.videoDomElement;t.canvasDomElement,navigator._getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator._getMedia({video:e,audio:n},function(t){if(navigator.mozGetUserMedia)i.mozSrcObject=t;else{var e=window.URL||window.webkitURL;i.src=e.createObjectURL(t)}i.play()},function(){console.log("Forebone.Media error")})}},e.Canvas={context:null,image:null,width:null,height:null,initialize:function(e){var n=t.document.getElementById(e);!this.context&&n.getContext&&(this.context=n.getContext("2d"),this.image=this.context.createImageData(n.width,n.height),this.height=n.height,this.width=n.width)},color:function(t,e,n,i){this.context.fillStyle=t>=0&&256>t&&e>=0&&256>e&&n>=0&&256>n?i?"rgba("+t+","+e+","+n+","+i+")":"rgb("+t+","+e+","+n+")":"rgb(10,10,10)"},move:function(t,e){t>0&&e>0?this.context.moveTo(t,e):this.context.moveTo(0,0)},line:function(t,e){t>0&&e>0?this.context.lineTo(t,e):this.context.lineTo(0,0),this.context.fill()},rect:function(t,e,n,i,o,s,r,a){this.color(o,s,r,a),this.context.fillRect(t,e,n,i)},stroke:function(t,e,n,i){this.context.strokeRect(t,e,n,i)},clear:function(t,e,n,i){this.context.clearRect(t,e,n,i)},path:function(t){if(t.length>1){this.context.beginPath(),this.context.moveTo(t[0][0],t[0][1]);var e;for(e=1;t.length>e;e++)this.context.lineTo(t[e][0],t[e][1])}this.context.fill()},circle:function(t,e,n,i,o,s,r){var a=Math.PI/180*i,h=Math.PI/180*o;this.context.arc(t,e,n,a,h,s),1===r?this.context.fill():this.context.stroke()},pixel:function(t,e,n,i,o,s){var r=4*(this.width*e+t);this.image.data[r+0]=n?n:10,this.image.data[r+1]=i?i:10,this.image.data[r+2]=o?o:10,this.image.data[r+3]=s?s:255},render:function(){this.context.putImageData(this.image,0,0)}}}).call(this);